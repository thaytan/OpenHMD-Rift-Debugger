# LED models from my devices

HMD_MODEL = [
 { 'pos': (0.063321,-0.031734,0.067534), 'dir': (0.181956,-0.102972,0.977900), 'pattern': 0x1 },
 { 'pos': (0.077003,0.001460,0.065643), 'dir': (0.299055,0.001984,0.954234), 'pattern': 0x6 },
 { 'pos': (0.029006,-0.019167,0.073205), 'dir': (0.082983,-0.096960,0.991823), 'pattern': 0x1a },
 { 'pos': (-0.000092,-0.033409,0.072387), 'dir': (0.000000,-0.188028,0.982164), 'pattern': 0x1d },
 { 'pos': (-0.029277,-0.019280,0.073313), 'dir': (-0.082983,-0.096960,0.991823), 'pattern': 0x28 },
 { 'pos': (-0.063317,-0.032109,0.067604), 'dir': (-0.181956,-0.102972,0.977900), 'pattern': 0x2f },
 { 'pos': (-0.077328,0.000974,0.065640), 'dir': (-0.299055,0.001984,0.954234), 'pattern': 0x33 },
 { 'pos': (-0.054084,0.034504,0.068768), 'dir': (-0.140969,0.134957,0.980772), 'pattern': 0x4b },
 { 'pos': (-0.020154,0.017780,0.074139), 'dir': (-0.056979,0.095951,0.993754), 'pattern': 0x4c },
 { 'pos': (0.053480,0.034724,0.068953), 'dir': (0.140969,0.134957,0.980772), 'pattern': 0x57 },
 { 'pos': (0.019668,0.017820,0.074205), 'dir': (0.056979,0.095951,0.993754), 'pattern': 0x62 },
 { 'pos': (-0.078986,-0.012270,0.028013), 'dir': (-0.993057,-0.099980,-0.061984), 'pattern': 0x65 },
 { 'pos': (-0.077680,-0.012236,-0.008572), 'dir': (-0.981566,-0.188915,-0.028963), 'pattern': 0x79 },
 { 'pos': (-0.070629,-0.031636,0.009905), 'dir': (-0.734056,-0.668042,-0.121987), 'pattern': 0x7e },
 { 'pos': (-0.058930,-0.040868,0.036014), 'dir': (-0.153997,-0.983099,-0.099003), 'pattern': 0x90 },
 { 'pos': (0.059269,-0.040973,0.036524), 'dir': (0.153997,-0.983099,-0.099003), 'pattern': 0xa4 },
 { 'pos': (0.028475,-0.043555,0.061577), 'dir': (-0.004975,-0.998636,-0.051974), 'pattern': 0x114 },
 { 'pos': (-0.080405,-0.024558,0.053251), 'dir': (-0.947594,-0.225904,-0.225904), 'pattern': 0x151 },
 { 'pos': (-0.027802,-0.043408,0.061279), 'dir': (0.004975,-0.998636,-0.051974), 'pattern': 0x183 },
 { 'pos': (0.070969,-0.031734,0.010382), 'dir': (0.734056,-0.668042,-0.121987), 'pattern': 0x18c },
 { 'pos': (0.077642,-0.012844,-0.008764), 'dir': (0.981566,-0.188915,-0.028963), 'pattern': 0x199 },
 { 'pos': (0.079166,-0.012197,0.028124), 'dir': (0.993057,-0.099980,-0.061984), 'pattern': 0x1aa },
 { 'pos': (0.080537,-0.024730,0.053440), 'dir': (0.947594,-0.225904,-0.225904), 'pattern': 0x1b5 },
 { 'pos': (-0.028909,0.043724,0.057823), 'dir': (-0.004975,0.999980,0.003998), 'pattern': 0x1c0 },
 { 'pos': (-0.078119,0.029616,0.053275), 'dir': (-0.871752,0.428856,-0.236921), 'pattern': 0x1cf },
 { 'pos': (0.072085,0.030581,0.000046), 'dir': (0.816019,0.577024,-0.033998), 'pattern': 0x1d6 },
 { 'pos': (0.066860,0.037604,0.029608), 'dir': (0.526908,0.847875,-0.058962), 'pattern': 0x1e9 },
 { 'pos': (0.078145,0.029213,0.052728), 'dir': (0.871752,0.428856,-0.236921), 'pattern': 0x1f3 },
 { 'pos': (0.029098,0.043572,0.057637), 'dir': (0.004975,0.999980,0.003998), 'pattern': 0x1fc },
 { 'pos': (-0.066825,0.037894,0.030136), 'dir': (-0.526908,0.847875,-0.058962), 'pattern': 0x230 },
 { 'pos': (-0.072217,0.030765,0.000462), 'dir': (-0.816019,0.577024,-0.033998), 'pattern': 0x252 },
 { 'pos': (-0.041038,0.043365,0.023723), 'dir': (-0.041995,0.999110,-0.003998), 'pattern': 0x282 },
 { 'pos': (0.000003,0.043958,0.033539), 'dir': (0.005982,0.999932,0.009980), 'pattern': 0x285 },
 { 'pos': (0.041065,0.043154,0.023442), 'dir': (0.041995,0.999110,-0.003998), 'pattern': 0x29b },
]

LEFT_MODEL = [
  { 'pos': (0.029946,-0.008461,-0.011452),  'dir': (0.884067,0.388313,-0.260075), 'pattern': 0xff },
  { 'pos': (0.035536,-0.033164,-0.010440),  'dir': (0.967153,-0.024843,-0.252978), 'pattern': 0xff },
  { 'pos': (0.029571,-0.055917,-0.011534),  'dir': (0.844946,-0.443012,-0.299679), 'pattern': 0xff },
  { 'pos': (0.011121,-0.075512,-0.014582),  'dir': (0.492185,-0.802377,-0.337558), 'pattern': 0xff },
  { 'pos': (-0.010409,-0.082352,-0.018546),  'dir': (0.115115,-0.904317,-0.411046), 'pattern': 0xff },
  { 'pos': (-0.036538,-0.077271,-0.023069),  'dir': (-0.360823,-0.803908,-0.472798), 'pattern': 0xff },
  { 'pos': (-0.054721,-0.061603,-0.026314),  'dir': (-0.680250,-0.518209,-0.518381), 'pattern': 0xff },
  { 'pos': (-0.063736,-0.038431,-0.027881),  'dir': (-0.803271,-0.104034,-0.586457), 'pattern': 0xff },
  { 'pos': (-0.061211,-0.014784,-0.027409), 'dir': (-0.749591,0.330238,-0.573634), 'pattern': 0xff },
  { 'pos': (-0.048096,0.005200,-0.025099), 'dir': (-0.502059,0.647611,-0.573181), 'pattern': 0xff },
  { 'pos': (0.030635,-0.009328,0.005465),  'dir': (0.909815,0.346749,0.228037), 'pattern': 0xff },
  { 'pos': (0.035466,-0.033344,0.006530),  'dir': (0.965727,-0.047940,0.255094), 'pattern': 0xff },
  { 'pos': (0.029774,-0.056286,0.005371),  'dir': (0.852034,-0.457544,0.254345), 'pattern': 0xff },
  { 'pos': (0.015816,-0.073661,0.002961),  'dir': (0.579396,-0.790628,0.198007), 'pattern': 0xff },
  { 'pos': (-0.004190,-0.083799,-0.000457), 'dir': (0.210284,-0.970564,0.117414), 'pattern': 0xff },
  { 'pos': (-0.026027,-0.084654,-0.004290), 'dir': (-0.215699,-0.973665,0.073824), 'pattern': 0xff },
  { 'pos': (-0.047724,-0.075500,-0.008175), 'dir': (-0.612699,-0.790017,0.021760), 'pattern': 0xff },
  { 'pos': (-0.062251,-0.059548,-0.010892), 'dir': (-0.873529,-0.486161,-0.024384), 'pattern': 0xff },
  { 'pos': (-0.069615,-0.036909,-0.012056), 'dir': (-0.995685,-0.061201,-0.069748), 'pattern': 0xff },
  { 'pos': (-0.066493,-0.013106,-0.011501), 'dir': (-0.926055,0.370909,-0.069637), 'pattern': 0xff },
  { 'pos': (-0.055226,0.005148,-0.009622), 'dir': (-0.696882,0.698339,-0.163337), 'pattern': 0xff },
  { 'pos': (-0.039776,0.011819,-0.013788), 'dir': (0.284579,0.944923,0.161664), 'pattern': 0xff },
  { 'pos': (-0.005263,0.001549,-0.029259), 'dir': (0.008358,0.796987,-0.603938), 'pattern': 0xff },
  { 'pos': (0.017511,-0.001385,-0.023864), 'dir': (0.563180,0.669812,-0.483922), 'pattern': 0xff },
]

RIGHT_MODEL = [
  { 'pos': (-0.029829,-0.008241,-0.011167), 'dir': (-0.868435,0.426789,-0.252331), 'pattern': 0xff },
  { 'pos': (-0.035554,-0.031966,-0.010456), 'dir': (-0.974995,-0.004233,-0.222187), 'pattern': 0xff },
  { 'pos': (-0.029983,-0.055260,-0.011469), 'dir': (-0.872345,-0.433877,-0.225311), 'pattern': 0xff },
  { 'pos': (-0.012350,-0.074774,-0.014405), 'dir': (-0.550523,-0.783165,-0.289098), 'pattern': 0xff },
  { 'pos': (0.010986,-0.082438,-0.018573), 'dir': (-0.113685,-0.920719,-0.373300), 'pattern': 0xff },
  { 'pos': (0.035463,-0.077780,-0.022766), 'dir': (0.321003,-0.822476,-0.469565), 'pattern': 0xff },
  { 'pos': (0.055485,-0.060507,-0.026353), 'dir': (0.671715,-0.512871,-0.534567), 'pattern': 0xff },
  { 'pos': (0.063864,-0.036292,-0.027787), 'dir': (0.830456,-0.074589,-0.552069), 'pattern': 0xff },
  { 'pos': (0.060949,-0.014478,-0.027331), 'dir': (0.771918,0.326510,-0.545466), 'pattern': 0xff },
  { 'pos': (0.048540,0.004624,-0.025087), 'dir': (0.539162,0.671628,-0.508154), 'pattern': 0xff },
  { 'pos': (-0.030811,-0.009584,0.005300), 'dir': (-0.876521,0.425520,0.225041), 'pattern': 0xff },
  { 'pos': (-0.035589,-0.032112,0.006395), 'dir': (-0.968514,-0.012193,0.248660), 'pattern': 0xff },
  { 'pos': (-0.030432,-0.055102,0.005463), 'dir': (-0.870318,-0.441839,0.217545), 'pattern': 0xff },
  { 'pos': (-0.015977,-0.073655,0.002923), 'dir': (-0.599825,-0.781416,0.172044), 'pattern': 0xff },
  { 'pos': (0.004668,-0.083978,-0.000647), 'dir': (-0.218195,-0.969594,0.110808), 'pattern': 0xff },
  { 'pos': (0.027130,-0.084546,-0.004713), 'dir': (0.196325,-0.980135,0.028128), 'pattern': 0xff },
  { 'pos': (0.047978,-0.075373,-0.008092), 'dir': (0.589146,-0.807459,-0.030300), 'pattern': 0xff },
  { 'pos': (0.062869,-0.058568,-0.010919), 'dir': (0.860962,-0.500010,-0.093454), 'pattern': 0xff },
  { 'pos': (0.069687,-0.035195,-0.012318), 'dir': (0.994294,-0.054871,-0.091480), 'pattern': 0xff },
  { 'pos': (0.066363,-0.013170,-0.011726), 'dir': (0.927925,0.362530,-0.086761), 'pattern': 0xff },
  { 'pos': (0.054643,0.005475,-0.009469), 'dir': (0.696018,0.715006,-0.065769), 'pattern': 0xff },
  { 'pos': (0.040035,0.011924,-0.013663), 'dir': (-0.199193,0.957329,0.209387), 'pattern': 0xff },
  { 'pos': (0.005085,0.001334,-0.029218), 'dir': (0.033090,0.844565,-0.534430), 'pattern': 0xff },
  { 'pos': (-0.017722,-0.001743,-0.023817), 'dir': (-0.465796,0.777332,-0.422836), 'pattern': 0xff },
]

def rotateY(M):
    for p in M:
        x = p['pos']
        x = (-x[0], x[1], -x[2])
        p['pos'] = x
        x = p['dir']
        x = (-x[0], x[1], -x[2])
        p['dir'] = x

    return M

ledmodels = [
    rotateY(HMD_MODEL),
    RIGHT_MODEL,
    LEFT_MODEL
]

# Cameras from my sensors
cameras = {
    'WMTD30333009TJ':
        {
          'M':
            [ 715.258, 0.0, 636.018,
              0.0, 715.258, 488.010,
              0.0, 0.0, 1.0, ],
          'K': [  0.074007, -0.025007, 0.005786, -0.000620 ]
        },
    'WMTD307G100H61':
        {
          'M':
            [ 715.099, 0.0, 663.260,
              0.0, 715.099, 489.434,
              0.0, 0.0, 1.0, ],
          'K': [ 0.076301, -0.027621, 0.007433, -0.000986 ]
        },
}



